"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[393],{6393:(f,l,r)=>{r.r(l),r.d(l,{HomePage:()=>O});var c=r(467),n=r(3953),_=r(4341),t=r(110),g=r(70),m=r(6929),u=r(3537);const h=()=>["/","home","cart"],d=o=>["/","home","gifts",o];function P(o,s){if(1&o&&(n.j41(0,"ion-badge",4)(1,"ion-text"),n.EFF(2),n.k0s()()),2&o){const e=n.XpG();n.R7$(2),n.JRh(e.totalItems)}}function p(o,s){if(1&o&&(n.j41(0,"ion-col",7)(1,"ion-card",8)(2,"ion-thumbnail"),n.nrm(3,"ion-img",9),n.k0s(),n.j41(4,"ion-label")(5,"ion-text",10)(6,"strong"),n.EFF(7),n.k0s()(),n.j41(8,"p")(9,"ion-text",10),n.EFF(10,"\u20b9 "),n.j41(11,"strong"),n.EFF(12),n.k0s()(),n.j41(13,"ion-text",11),n.EFF(14),n.nrm(15,"ion-icon",12),n.k0s()()()()()),2&o){const e=s.$implicit;n.R7$(),n.Y8G("routerLink",n.eq3(5,d,null==e?null:e.id)),n.R7$(2),n.Y8G("src",null==e?null:e.cover),n.R7$(4),n.JRh(null==e?null:e.name),n.R7$(5),n.SpI(" ",null==e?null:e.price,""),n.R7$(2),n.SpI(" ",null==e?null:e.rating," ")}}let O=(()=>{var o;class s{constructor(){this.items=[],this.allItems=[],this.totalItems=0,this.api=(0,n.WQX)(m.G),this.cartService=(0,n.WQX)(u.m)}ngOnInit(){console.log("HomePage ngOnInit"),this.getItems(),this.cartSub=this.cartService.cart.subscribe({next:i=>{this.totalItems=i?null==i?void 0:i.totalItem:0}})}ngOnDestroy(){this.cartSub&&this.cartSub.unsubscribe()}getItems(){this.allItems=this.api.items,this.items=[...this.allItems]}onSearchChange(i){var a=this;return(0,c.A)(function*(){a.query=i.detail.value.toLowerCase(),a.querySearch()})()}querySearch(){this.items=""===this.query?[...this.allItems]:this.api.items.filter(i=>i.name.toLowerCase().includes(this.query))}}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275cmp=n.VBU({type:o,selectors:[["app-home"]],standalone:!0,features:[n.aNF],decls:15,vars:4,consts:[["searchInput",""],["slot","end"],["color","primary","fill","clear",3,"routerLink"],["name","bag-handle","slot","icon-only"],["color","primary"],["debounce","800","mode","ios","placeholder","Search for gifts...",3,"ionInput"],[1,"ion-padding",3,"fullscreen"],["sizeLg","3","sizeMd","4","sizeSm","6","sizeXl","3","sizeXs","6"],[3,"routerLink"],[3,"src"],["color","dark"],["color","dark",1,"rating"],["name","star","color","warning"]],template:function(i,a){if(1&i){const C=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"Gift Shop"),n.k0s(),n.j41(4,"ion-buttons",1)(5,"ion-button",2),n.nrm(6,"ion-icon",3),n.DNE(7,P,3,1,"ion-badge",4),n.k0s()()(),n.j41(8,"ion-toolbar")(9,"ion-searchbar",5,0),n.bIt("ionInput",function(M){return n.eBV(C),n.Njj(a.onSearchChange(M))}),n.k0s()()(),n.j41(11,"ion-content",6)(12,"ion-row"),n.Z7z(13,p,16,7,"ion-col",7,n.Vm6),n.k0s()()}2&i&&(n.R7$(5),n.Y8G("routerLink",n.lJ4(3,h)),n.R7$(2),n.vxM(a.totalItems>0?7:-1),n.R7$(4),n.Y8G("fullscreen",!0),n.R7$(2),n.Dyx(a.items))},dependencies:[t.In,t.QW,t.S1,t.IO,t.b_,t.KW,_.X1,g.Wk,t.hU,t.ln,t.Jm,t.eU,t.ai,t.he,t.iq,t.BC,t.W9,t.Zx],styles:["ion-title[_ngcontent-%COMP%]{color:#000;font-size:30px;text-align:center}ion-card[_ngcontent-%COMP%]{--background: var(--ion-color-light);height:14rem;margin:.3rem 0;border-radius:8px;box-shadow:none;border:1px solid var(--ion-color-light)}ion-card[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:100%;height:10rem;margin-bottom:10px}ion-card[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:100%;border-radius:8px}ion-card[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9rem}ion-card[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px}ion-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;margin-top:8px;font-weight:500}ion-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-text.rating[_ngcontent-%COMP%]{float:right}ion-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-text.rating[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8rem}"]}),s})()}}]);